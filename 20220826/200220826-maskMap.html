<!doctype html>
  <html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">

    <title>口罩地圖</title>
    <script src="../js/CityCountyData.js"></script>
  </head>
  <body>
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-3 bg-info" style="height: 100vh;">
          <select class="custom-select custom-select-lg my-3" id="city">
            <option selected disabled>--縣市--</option>
            <option value="1">台北市</option>
            <option value="2">新竹市</option>
            <option value="3">桃園市</option>
          </select>
          <select class="custom-select custom-select-lg mb-3" id="region">
            <option selected disabled>--鄉鎮區--</option>
            <option value="1">西屯區</option>
            <option value="2">西屯區</option>
            <option value="3">西屯區</option>
          </select>
        </div>
        <div class="col-md-9 bg-warning"></div>
      </div>
    </div>

    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct" crossorigin="anonymous"></script>
    <script>
      var selectCity; //儲存已選取的縣市名稱
      var selectCounty = []; //儲存已選取縣市的鄉鎮區資料
      $(function(){
        console.log(cityData);
        $("#city").empty();
        $("#city").append('<option selected disabled>--縣市--</option>');
        cityData.forEach(function(item){
          var strHTML = '<option value="'+item.CityName+'">'+item.CityName+'</option>';
          $("#city").append(strHTML);
        });

        $("#city").change(function(){
          //console.log($(this).val());
          selectCity = $(this).val();
          cityData.find(function(item){
            if(item.CityName == selectCity){
              selectCounty = item.AreaList;
            }
          });
          console.log(selectCity);
          $("#region").empty();
          $("#region").append('<option selected disabled>--鄉鎮區--</option>');
          selectCounty.forEach(function(item){
            var strHTML = '<option value="'+item.AreaName+'">'+item.AreaName+'</option>';
            $("#region").append(strHTML);
          });
        });
      });
    </script>
  </body>
  </html>